# Uso Syncthing (https://syncthing.net/)
# Sincronizo un directorio /Discos/Alguna/Ubicacion/@SyncCentral 
#  entre los fileservers locales de cada sede (guarida, ancianato, empresa) 
# Sincronizo los equipos de cada sede al @SyncCentral de cada red local
# En uno de los fileservers pongo Dropbox headless para tener respaldos versionados "offsite"

# Uso caracteres parecidos a los reservados para path para representar el path relativo real en el directorio base sincronizado: 
#  uso el caracter U+2248	≈ en lugar de ~ (home) 
#    y el caracter U+222B	∫ en lugar de / (separador de subdirectorios)
#  Por ejemplo, un directorio que deba  estar  en  /home/MiUsuario∫.local/share/vlc
#   puede sincronizarse en /Discos/Alguna/Ubicacion/@SyncCentral/≈∫.local∫share∫vlc
#   y ≈∫.local∫share∫vlc es todo UN nombre de archivo, pero queda claro que equivale a subdirectorios

# Simlink del directorio central de archivos sincronizados 
#  entre el punto de montaje donde esté la sincronización (disco local o directorio de red)
#  a un directorio standarizado dentro del $HOME del usuario
  ln -s /Donde/Esta/Realmente/Sync ~/Sync  
  ln -s /Donde/Esta/Realmente/Dropbox ~/Dropbox
#  así todos los usuarios ven sus configuraciones dentro de ~/Sync esté donde esté su fileserver local
#  y los directorios donde los programas esperan sus configuraciones apuntan a esos dentro de ~/Sync

# Eliminar las configuraciones locales standard y sustituirlas
# por los simlinks correspondientes en el directorio sincronizado:
  # Xfce4:
    rm ~/.config/xfce4/xfconf/xfce-perchannel-xml/keyboards.xml                && ln -s ~/Sync/Configs/Linux/≈∫.config/xfconf∫xfce-perchannel-xml/keyboards.xml                ~/.config/xfce4/xfconf/xfce-perchannel-xml/keyboards.xml
    rm ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml && ln -s ~/Sync/Configs/Linux/≈∫.config/xfconf∫xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml
    rm ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml              && ln -s ~/Sync/Configs/Linux/≈∫.config/xfconf∫xfce-perchannel-xml/xfce4-panel.xml              ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-panel.xml
    rm ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-power-manager.xml      && ln -s ~/Sync/Configs/Linux/≈∫.config/xfconf∫xfce-perchannel-xml/xfce4-power-manager.xml      ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-power-manager.xml
    rm ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfwm4.xml                    && ln -s ~/Sync/Configs/Linux/≈∫.config/xfconf∫xfce-perchannel-xml/xfwm4.xml                    ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfwm4.xml
    rm ~/.config/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml                && ln -s ~/Sync/Configs/Linux/≈∫.config/xfconf∫xfce-perchannel-xml/xsettings.xml                ~/.config/xfce4/xfconf/xfce-perchannel-xml/xsettings.xml
    rm -r ~/.config/xfce4/panel                                                && ln -s ~/Sync/Configs/Linux/≈∫.config/xfce4/panel                                             ~/.config/xfce4/panel
    rm -r ~/.config/gtk-3.0                                                    && ln -s ~/Sync/Configs/Linux/≈∫.config/gtk-3.0                                                 ~/.config/gtk-3.0
    rm    ~/.config/picom.conf                                                 && ln -s ~/Sync/Configs/Linux/≈∫.config/picom.conf                                              ~/.config/picom.conf
    rm -r ~/.themes                                                            && ln -s ~/Sync/Configs/Linux/≈∫.themes                                                         ~/.themes
    rm -r ~/.icons                                                             && ln -s ~/Sync/Configs/Linux/≈∫.icons                                                          ~/.icons

  ln -s ~/Sync/Configs/Linux/≈∫.config/smplayer          ~/.config/smplayer
  ln -s ~/Sync/Configs/Linux/≈∫.config/tabby/config.yaml ~/.config/tabby/config.yaml

  ln -s ~/Sync/Configs/VSCodium/≈∫.config∫VSCodium       ~/.config/VSCodium
  ln -s ~/Sync/Configs/VSCodium/≈∫.vscode-oss            ~/.vscode-oss

  ln -s ~/Sync/Configs/Linux/FreeCAD                     ~/.config/FreeCAD

# Enlazar los directorios de sincronización al $HOME:
  ln -s /Discos/Resto/Sync Sync
  ln -s /Discos/Resto/Dropbox Dropbox

# KDE Remote Desctop Client
  # Eliminar los archivos locales no sincronizados y enlazar los archivos sincronizados a las ubicaciones standard:
    rm .local/share/krdc/bookmarks.xml && ln -s ~/Sync/Configs/Linux/≈∫.local/share/krdc/bookmarks.xml ~/.local/share/krdc/bookmarks.xml
    rm .config/krdcrc                  && ln -s ~/Sync/Configs/Linux/≈∫.config/krdcrc                  ~/.config/krdcrc





